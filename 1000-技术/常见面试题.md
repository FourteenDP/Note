---
aliases: 常见面试题
tags:
  - 面试题
  - 前端
date created: 2022-06-20 12:58
date updated: 2022-06-20 20:59
---

## BFC（块级格式化上下文）

### 作用

- 形成独立空间作用域不影像外部布局

### 触发

- float 不为 none
- position 不为 relative 和 static
- overflow 不为 auto、scroll 和 hidden
- display 值为 table-cell 或 inline-block

tips:触发 BFC 可以解决大部分的脱离文档流、高度塌陷

### 解决高度塌陷

- 给父元素触发 BFC
- 添加固定高度
- 给最后一个标签添加 clear: both 清除浮动属性

## 盒子模型

![[盒子模型.png]]

- box-sizing 属性为 content-box（默认值）时盒子大小等于所有区域的大小的总和
- box-sizing 属性为 border-box 时盒子大小等于属性长宽的大小

## 箭头函数

- 匿名函数语法糖
- 不能用于构造函数
- 没有 prototype 属性
- 不能绑定 this
- 没有 arguments 参数
- 没有 this 指向直接获取最近的作用域中的 this

## 浏览器跨域

### 同源策略网络

| 说明           | 是否允许通讯 |
| ------------ | ------ |
| 同一域名，不同文件或路径 | 允许     |
| 同一域名，不同端口    | 不允许    |
| 同一域名，不同协议    | 不允许    |
| 域名和域名对应 ip   | 不允许    |
| 域相同，子域不同     | 不允许    |
| 不同域名         | 不允许    |

### 解决方法

#### JSONP

- script 标签不受跨域限制

- 前端定义 callback（回调函数）src 接受执行挂有数据的 callback 方法。

- 示例：

  - ```html
    <!-- 前端 -->
    <script>
        window.callback = function (res) {
            console.log(res)
        }
    </script>
    <script src='http://localhost:80/callback.js'></script>
    ```

  - ```javascript
    // 后端
    callback({
        data:'数据'bv/.
    })
    ```

#### 跨域资源共享（CORS）

- W3C 标准，它允许浏览器像跨域的服务器发送 AJAX 请求，兼容浏览器 IE10+

- 需要满足下列条件：

  - 使用下列请求方式之一
    - `GET`
    - `POST`
    - `HEAD`

  - `Content-Type` 的值仅限于下列三者之一：
    - `text/plain`
    - `multipart/form-data`
    - `application/x-www-form-urlencoded`

  - 请求中的任意 `XMLHttpRequestUpload` 对象均没有注册任何事件监听器；`XMLHttpRequestUpload` 对象可以使用 `XMLHttpRequest.upload` 属性访问。

  - 请求中没有使用 `ReadableStream` 对象。

  - Fetch 规范定义了 [对 CORS 安全的首部字段集合](https://fetch.spec.whatwg.org/[[cors-safelisted-request-header]]) ，不得人为设置该集合之外的其他首部字段。该集合为：
    - `Accept`
    - `Accept-Language`
    - `Content-Language`
    - `Content-Type` （需要注意额外的限制）
    - `DPR`
    - `Downlink`
    - `Save-Data`
    - `Viewport-Width`
    - `Width`

#### 本地代理(前端工程化工具 `WEBAPCK`|`VITE` 等)

- 使用本地接受后端数据

- 数据转发到本地接口

- node 中间件和 nginx 以及 VPN 翻墙类基本同理

%%TODO：跨域解决方案待完善%%

#### NGINX 代理跨域

#### NODE 中间件代理

#### POSTMESSAGE 跨域

#### WEBSOCKET 协议跨域

#### DOCUMENT.DOMAIN + IFRAME 跨域

#### LOCATION.HASH + IFRAME 跨域

#### WINDOW.NAME + IFRAME 跨域

## 浏览器存储

### COOKIE

- Cookie 是 HTTP 协议中的内容

- 服务器通过 Set-Cookie 头给客户端一串字符串,

- 客户端每次访问相同域名的网页时，必须带上这段字符串

- 服务器读取 Cookie 就知道登录用户的信息（不要存重要信息）

- 客户端要在一段时间内保存这个 Cookie

- Cookie 默认在用户关闭页面后就失效，服务端可以任意设置 Cookie 的过期时间（expires）

- 大小大概在 4kb 以内

- Cookie 遵守同源策略，不过跟 AJAX 的同源策略稍微有些不同，服务端可以对 Cookie 的路径做限制

- Cookie 存在 Windows C 盘的一个文件里

- 一般用来记录不重要的用户信息，或者存储 SessionID，用于跟踪用户

- Cookie 内容太多会影响请求性能，因此尽可能少在 Cookie 中存储信息

- Cookie 的问题：**用户可以随意篡改 Cookie**

- 前端尽量不要操作 Cookie

#### SESSION

- Session 依赖于 Cookie

- 将 SessionID（随机数）通过 Cookie 发给客户端

- 客户端访问服务器时，服务器读取 SessionID

- 服务器有一块内存（哈希表）保存了所有 session

- 通过 SessionID 我们可以得到对应用户的隐私信息，如 id、email

- 这块内存（哈希表）就是服务器上的所有 session

### LOCALSTORAGE（本地存储）

- LocalStorage 跟 HTTP 无关

- 只有相同域名的页面才能互相读取 LocalStorage（没有同源那么严格）

- 每个域名 localStorage 最大存储量为 2MB - 10MB 左右（各个浏览器不一样）

- 常用场景：记录有没有提示过用户（没有用的信息，不能记录密码）

- LocalStorage 永久有效，除非用户清理缓存

### SESSIONSTORGE（会话存储）

- 基本和 LocalStorage 一样，区别就是保存时间不同
- SessionStorage 在用户关闭页面（会话结束）后就失效

### INDEXEDDB

- IndexedDB 是一种底层 API，用于在客户端存储大量的结构化数据。通俗地说，IndexedDB 就是浏览器提供的本地数据库，它可以被 JavaScript 创建和操作。IndexedDB 允许储存大量数据，提供查找接口，还能建立索引。就数据库类型而言，IndexedDB 不属于关系型数据库（不支持 SQL 查询语句），更接近 NoSQL 数据库。
- 特性：
  - 键值对储存
  - 异步
  - 支持事务
  - 同源限制
  - 储存空间大
  - 支持二进制储存

### SQLITE

- SQLite 是一款轻型的针对本地化存储的数据库(native database)，它是一种关系型数据库管理系统。
- 底层由 C 语言函数库组成，以嵌入式作为设计目标，在占用资源非常少的情况下实现强大的数据库级的数据存储，整个数据库引擎大小大致只有 4M 多。
- 支持现今所有主流开发语言，如 C、C++、PHP、Java、C#、Python 等
- 实现了自给自足的、无服务器的、零配置的、事务性的 SQL 数据库引擎。SQLite 是在世界上最广泛部署的 SQL 数据库引擎。SQLite 源代码不受版权限制。
- 特性:
  - 数据集中控制
  - 数据独立性高
  - 数据库引擎小
  - 数据冗余度小
  - 数据架构化

### WEB SQL（已弃用）
