---
title: 监听器
---

## 什么是监听器

- 监听器是一个函数，当被侦听的数据发生变化时，监听器会被触发，从而执行监听器中的代码。

## 监听器的使用场景

- 监听器的使用方式和计算属性类似，都是通过 `watch` 选项来实现的。
- 但是，监听器的使用场景和计算属性是不一样的
- 计算属性是用来计算数据的，而监听器是用来监听数据的变化的。
- 计算属性是基于依赖的，只有依赖的数据发生变化，计算属性才会重新计算。
- 监听器是基于数据的，只要数据发生变化，监听器就会被触发。

## 监听器的使用

```tsx
import { defineComponent, ref, watch } from 'vue'

export default defineComponent({
  name: 'Watch',
  setup() {
    const count = ref(0)
    const msg = ref('')

    watch(count, (newVal, oldVal) => {
      msg.value = `count 从 ${oldVal} 变为 ${newVal}`
    })

    return {
      count,
      msg
    }
  }
})
```
